@{ 
    ViewBag.Title = "Program Partlist";
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/x-icon" href="~/Content/Images/ready-stock.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Learn how to improve your website with caching, accessibility, and SEO best practices.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title</title>
    <link href="~/Content/css/Programpartlist.css" rel="stylesheet" />
    <script src="~/Scripts/bootstrap.bundle.min.js"></script>
    @Styles.Render("~/Content/shared-css")
    @Styles.Render("~/Content/partlist-css")

    @Scripts.Render("~/bundles/shared-js")
    @Scripts.Render("~/bundles/modernizr")
</head>
<body>
    <div class="app">
        <aside class="sidebar">
            <div class="brand">📁 API Tab Manager</div>
            <div class="muted" style="padding:0 8px;">Click to open a tab</div>
            <div class="menu" id="sidebarMenu">
                <button data-key="dashboard" data-title="Dashboard" class="active">
                    <span class="dot"></span><span>Dashboard</span>
                </button>
                <button data-key="users" data-title="Users" data-api="https://jsonplaceholder.typicode.com/users">
                    <span class="dot"></span><span>Users</span>
                    <span class="badge">API</span>
                </button>
                <button data-key="posts" data-title="Posts" data-api="https://jsonplaceholder.typicode.com/posts">
                    <span class="dot"></span><span>Posts</span>
                    <span class="badge">API</span>
                </button>
                <button data-key="create" data-title="Create Post">
                    <span class="dot"></span><span>Create Post</span>
                </button>
                <button data-key="todos" data-title="Todos" data-api="https://jsonplaceholder.typicode.com/todos">
                    <span class="dot"></span><span>Todos</span>
                    <span class="badge">API</span>
                </button>
                <button data-key="settings" data-title="Settings">
                    <span class="dot"></span><span>Settings</span>
                </button>
            </div>

            <div style="margin-top: auto; padding: 12px; background: rgba(255,255,255,.02); border-radius: 10px;">
                <div class="muted" style="font-size: 12px; margin-bottom: 6px;">Performance Stats</div>
                <div style="font-size: 12px; display: flex; justify-content: space-between;">
                    <span>Tabs Open: <span id="tabCount">1</span></span>
                    <span>Cached: <span id="cachedCount">0</span></span>
                </div>
            </div>
        </aside>

        <main class="main">
            <div class="tabs" id="tabBar" aria-label="Open tabs"></div>
            <div class="content" id="contentArea" aria-live="polite"></div>
        </main>
    </div>

    <main>
        @RenderBody()
    </main>


    <script type="text/javascript">
        //var sessionCheckInterval;
        //function startSessionCheck() {
        //    clearInterval(sessionCheckInterval); // Clear previous interval
        //    sessionCheckInterval = setInterval(checkSession, 3600000); // Restart session check every 60 seconds
        //}


        //function checkSession() {
        //    $.ajax({
        //        url: "/User/CheckSession",
        //        method: "GET",
        //        success: function (response) {
        //            if (!response.isAuthenticated) {
        //                //alert("Your session has expired. Redirecting to login page.");
        //                window.location.href = "/Series/LogMainpage";
        //            }
        //        }
        //    });
        //}

        //// Start interval on page load
        //startSessionCheck();

        //// Reset interval on user activity
        //document.addEventListener("mousemove", startSessionCheck); // Mouse movement
        //document.addEventListener("keydown", startSessionCheck);   // Keyboard typing
        //document.addEventListener("click", startSessionCheck);     // Mouse clicks




        //document.addEventListener("DOMContentLoaded", function () {
        //    var currentUrl = window.location.pathname.toLowerCase();
        //    document.querySelectorAll(".nav-link").forEach(function (link) {
        //        if (link.getAttribute("href").toLowerCase() === currentUrl) {
        //            link.classList.add("active");
        //        }
        //    });
        //});



        //const togglebutton = document.getElementById('toggle-btn');
        //const sidebar = document.getElementById('sidebar');

        //function toggleSidebar() {
        //    sidebar.classList.toggle('close');
        //    togglebutton.classList.toggle('rotate');

        //    // sidebar.getElementsByClassName('show');

        //    closeallSubMenus();
        //}

        //function toggleSubMenu(button) {

        //    if (button.nextElementSibling.classList.contains('show')) {
        //        closeallSubMenus();
        //    }

        //    button.nextElementSibling.classList.toggle('show');
        //    button.classList.toggle('rotate');

        //    if (sidebar.classList.contains('close')) {
        //        sidebar.classList.toggle('close');
        //        togglebutton.classList.toggle('rotate');
        //    }
        //}

        //function closeallSubMenus() {
        //    Array.from(sidebar.getElementsByClassName('show')).forEach(ul => {
        //        ul.classList.remove('show');
        //        ul.previousElementSibling.classList.remove('rotate');
        //    });
        //}




    </script>
    @Html.Partial("_SystemConfig")
</body>
</html>
